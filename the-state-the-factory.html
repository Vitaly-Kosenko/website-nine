<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Государство</title>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LJ41D759RL"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-LJ41D759RL');
    </script>
    <link rel="icon" type="image/png" href="img/icon/icon-nine.png">
    <link rel="apple-touch-icon" sizes="57x57" href="img/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="img/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="img/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="img/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="img/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="img/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="img/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="img/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="img/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="img/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="img/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="img/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="img/icon/favicon-16x16.png">
    <link rel="manifest" href="img/icon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="img/icon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet" href="style.css"> <!-- підключення спільного CSS -->

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

    <link href="https://vjs.zencdn.net/8.0.4/video-js.css" rel="stylesheet">
    <script src="https://vjs.zencdn.net/8.0.4/video.min.js"></script>
    <script
        src="https://cdn.jsdelivr.net/npm/videojs-http-source-selector/dist/videojs-http-source-selector.min.js"></script>

    <style>
        [data-i18n] {
            visibility: hidden;
        }
    </style>


</head>

<body style="background-image: url('./img/fon/fon.webp'); background-size: cover; background-position: center;">
    </bodystyle>

    <div class="content-container">


        <div class="content-container2">

            <div class="bookmark-menu" id="bm">
                <button class="bookmark-tab" id="bmTab" aria-expanded="false" aria-controls="bmList">
                    <span class="bm-icon">≡</span>
                    <span class="bm-label" data-i18n="drawer-sections-title-1">Разделы страницы</span>
                </button>

                <div class="bookmark-list" id="bmList" hidden>
                    <a class="bookmark-link" href="./The-State.html" data-i18n="nav.back-back-to-scientist">Назад</a>
                    <a class="bookmark-link" href="The-State-Chancellor's-Party.html"
                        data-i18n="bookmark-chancellor-party-1">Партия канцлера</a>
                    <a class="bookmark-link" href="./The-State-Machine-War.html"
                        data-i18n="bookmark-machine-war-1">Война машин</a>
                    <a class="bookmark-link" href="./The-State-The-Resistance.html"
                        data-i18n="state-resistance-link-1">Сопротивление</a>
                    <a class="bookmark-link" href="./The-State-Human.html"
                        data-i18n="bookmark-link-state-human-1">Человечество</a>
                    <a class="bookmark-link" href="./The-State-City-and-Wasteland.html"
                        data-i18n="bookmark-city-and-wasteland-1">Город и
                        пустошь</a>
                    <a class="bookmark-link" href="./The-State-The-Great-World-War.html"
                        data-i18n="bookmark-link-great-war-1">Великая
                        война</a>
                    <a class="bookmark-link" href="./The-State-Library.html"
                        data-i18n="state-title-library-link-1">Библиотека</a>
                    <a class="bookmark-link" href="./The-State-Cathedral.html"
                        data-i18n="state-cathedral-bookmark">Собор</a>
                    <a class="bookmark-link" href="./The-State-The-Watchtower.html"
                        data-i18n="state-watchtower-bookmark-1">Сторожевая
                        башня</a>

                </div>
            </div>

        </div>


        <h1 class="hero-title" data-i18n="state-title-factory-1">Государство</h1>


        <h2 class="section-title" style="color: #FFD700;" data-i18n="state-title-factory-big-1">Фабрика</h2>

        <div style="display: flex; flex-wrap: wrap; justify-content: space-between; margin-top: 20px;">

            <!-- Ліва колонка з описом -->
            <div style="flex: 1 1 62%; min-width: 300px; padding-right: 20px;">

                <p class="large2-text" data-i18n="state-factory-desc-1">
                    Фабрика — внушительное, зловещее здание с высоким потолком и множеством больших окон по сторонам. На
                    её крыше
                    расположены
                    несколько действующих дымовых труб и множество массивных поршнеобразных механизмов, которые
                    непрерывно двигаются вверх и
                    вниз. Спереди также находится круглое окно, напоминающее глаз Производственной Машины.
                </p>

                <p class="large2-text" data-i18n="state-factory-desc-2">
                    Здесь обитает сама Производственная Машина, создающая и запускающая различные автоматы, чтобы
                    опустошать землю и
                    уничтожать всё живое.
                </p>

            </div>


            <!-- Права колонка з фото + напис -->
            <div style="flex: 1 1 34%; min-width: 220px;">
                <div style="display: flex; justify-content: center;">
                    <img src="./img/fon/The-Factory-1.jpg" alt="The-Factory-1" style="max-width: 100%; height: auto;"
                        class="thumbnail2">
                </div>

                <div style="text-align: center; font-weight: bold; background: #000; color: #fff;
                           padding: 12px 16px; line-height: 1.6; border: 2px solid #ccc; border-radius: 5px;"
                    data-i18n="state-factory-caption-1">
                    Фабрика — <br> зловещее сердце Машины, место, где рождаются механизмы для уничтожения жизни
                </div>

            </div>
        </div>

        <!-- Жовта цитата -->
        <p class="comic-caption caption-bar2" style="margin-top: 15px; margin-bottom: 15px;"
            data-i18n="state-factory-quote-1">
            «Фабрика — символ ужаса и безжалостной силы Машины.»
        </p>


        <h2 class="section-title" style="color: #FFD700;" data-i18n="state-factory-history-title-1">История</h2>

        <p class="large2-text" data-i18n="state-factory-history-desc-1">
            Фабрика, по всей видимости, была возведена по приказу канцлера специально для BRAIN — центрального узла
            Машины.
            Её главная цель заключалась в создании боевых автоматонов, которые должны были обеспечить победу в грядущей
            войне.
            Само здание поражает своими масштабами и угрюмой архитектурой, словно отражающей холодный расчет тех, кто
            задумал
            это чудовище из камня и стали.
        </p>

        <p class="large2-text" data-i18n="state-factory-history-desc-2">
            Особое внимание сразу приковывает огромное круглое окно на фасаде. Оно светится насыщенным красным светом,
            отчего кажется, будто сама Фабрика наблюдает за окружающим миром. Это окно напоминает всевидящее око Машины,
            наполненное холодным, нечеловеческим разумом, которое внушает страх и ощущение постоянного контроля.
        </p>

        <p class="large2-text" data-i18n="state-factory-history-desc-3">
            Вдоль внешних стен можно заметить ряд массивных нефтяных насосов. Их ритмичное движение, сопровождаемое
            скрипом
            и гулом механизмов, придаёт Фабрике вид живого организма, чьи металлические артерии перекачивают топливо для
            бесконечной работы машин. Эти насосы словно символизируют ненасытность Машины, которая требует всё больше
            энергии,
            чтобы рождать новые орудия разрушения.
        </p>

        <p class="large2-text" data-i18n="state-factory-history-desc-4">
            Атмосфера вокруг Фабрики пропитана смесью дыма, копоти и запаха горелого масла. Слышен вой сирен и скрежет
            механизмов, будто сама земля страдает под тяжестью этой колоссальной конструкции. Каждый шаг ближе к зданию
            рождает ощущение тревоги и безысходности, словно оно затягивает в свои недра всё живое.
        </p>

        <p class="large2-text" data-i18n="state-factory-history-desc-5">
            Фабрика стала не просто местом производства — она превратилась в символ эпохи упадка и безумной жажды
            власти.
            Это мрачное святилище индустриального ужаса, где машины обретают жизнь лишь для того, чтобы лишать её
            других.
            Для тех, кто смотрит на неё издалека, Фабрика — это не только источник страха, но и немой памятник гибели
            человечества.
        </p>


        <div class="slider-wrapper slider-ferdinand">
            <button class="arrow left">&#10094;</button>


            <div class="image-listing">
                <img src="./img/fon/The-factory-is-visible-through-a-surveillance-device.jpg"
                    alt="The-factory-is-visible-through-a-surveillance-device" class="thumbnail">
                <img src="./img/fon/The-factory-is-visible-on-the-vacant-lot.jpg"
                    alt="The-factory-is-visible-on-the-vacant-lot" class="thumbnail">
                <img src="./img/fon/Factory-in-a-storm.jpg" alt="Factory-in-a-storm" class="thumbnail">
                <img src="./img/fon/The-factory-is-visible-from-the-corner.jpg"
                    alt="The-factory-is-visible-from-the-corner" class="thumbnail">
                <img src="./img/fon/Factory-inside.jpg" alt="Factory-inside" class="thumbnail">
                <img src="./img/fon/Factory-and-Lever.jpg" alt="Factory-and-Lever" class="thumbnail">
                <img src="./img/fon/Vlyad-Machinery-Plant.jpg" alt="Vlyad-Machinery-Plant" class="thumbnail">
                <img src="./img/fon/Factory-outside.jpg" alt="Factory-outside" class="thumbnail">
                <img src="./img/fon/Factory-chimney.jpg" alt="Factory-chimney" class="thumbnail">
                <img src="./img/fon/The-factory-was-blown-up.jpg" alt="The-factory-was-blown-up" class="thumbnail">
                <!-- Додавайте інші зображення за потребою -->
            </div>

            <button class="arrow right">&#10095;</button>
        </div>


        <h2 class="section-title" style="color: #FFD700;"
            data-i18n="state-war-of-the-machines-and-the-post-war-era-title-1">Война Машин и Послевоенное время
        </h2>

        <p class="large2-text" data-i18n="state-war-of-the-machines-and-the-post-war-era-desc-1">
            По приказу Канцлера BRAIN начал создавать смертоносные боевые машины. Эти безжалостные механизмы были
            отправлены в
            поход
            против человечества, прокатываясь по странам и оставляя за собой лишь руины и смерть. Их стальные ряды
            сметали
            города,
            а бесконечное производство в стенах Фабрики подпитывало эту армию ужаса.
        </p>

        <p class="large2-text" data-i18n="state-war-of-the-machines-and-the-post-war-era-desc-2">
            Во время одной из ожесточённых атак артиллерийский снаряд угодил прямо в стены Фабрики. Взрыв пробил
            огромную дыру,
            оставив зияющую рану в сердце сооружения. Металл и камень треснули, механизмы искрили, а воздух наполнился
            гарью и
            раскалённым дымом. Но даже сквозь разрушения Производственная Машина продолжала оставаться внутри — словно
            чудовище,
            притаившееся в собственном логове.
        </p>

        <p class="large2-text" data-i18n="state-war-of-the-machines-and-the-post-war-era-desc-3">
            В последние мгновения своей работы, когда её энергия уже иссякала, Машина совершила отчаянную попытку
            восстановить
            контроль.
            Она породила чудовище — Зверя-Кошку, созданного с единственной целью: вернуть Талисман и вновь пробудить
            сердце
            Машины.
            Этот зверь стал олицетворением ярости и слепой жажды уничтожения.
        </p>

        <p class="large2-text" data-i18n="state-war-of-the-machines-and-the-post-war-era-desc-4">
            После тяжёлой битвы Зверь-Кошка был повержен. Однако на этом история Фабрики не завершилась. Случайность,
            вызванная
            действиями
            Седьмого, привела к тому, что механизмы внутри были вновь запущены, когда Девятый коснулся древних систем
            пробуждения.
            Так Фабрика ожила снова, разбудив эхо войны, которое, казалось, уже осталось в прошлом.
        </p>

        <p class="large2-text" data-i18n="state-war-of-the-machines-and-the-post-war-era-desc-5">
            С этого момента Фабрика вновь стала базой для машин. Её залы заполнили шум двигателей, тени автоматонов и
            холодное
            дыхание металла. Руины превратились в рассадник нового ужаса, и даже после поражения старых чудовищ, страх
            перед
            бездушной мощью Фабрики продолжал давить на тех, кто осмеливался взглянуть на её мрачный силуэт.
        </p>


        <h2 class="section-title" style="color: #FFD700;" data-i18n="state-factory-role-title-1">Роль в фильме
        </h2>

        <p class="large2-text" data-i18n="state-factory-role-desc-1">
            Впервые Фабрика появляется вдали, в мрачном мареве руин. Когда Зверь-Кошка захватывает Второго и уносит его,
            силуэт трёх её башен вырисовывается на горизонте. Они возвышаются, словно чёрные шипы, прорезающие туман,
            и сразу дают понять — там скрыто нечто большее, чем просто здание.
        </p>

        <p class="large2-text" data-i18n="state-factory-role-desc-2">
            Более детальный облик Фабрики открывается позже, когда Пятый рассматривает её через свой секстант.
            Девятый, узнав это зловещее место, указывает на него, и в тот миг становится ясно: именно здесь сокрыто
            сердце
            разрушений, источник всех кошмаров, что терзают землю.
        </p>

        <p class="large2-text" data-i18n="state-factory-role-desc-3">
            С этого момента присутствие Фабрики ощущается во всём повествовании. Её трубы дымят, механизмы стучат,
            а стены словно дышат ненавистью. Даже издалека она внушает ужас, и каждый взгляд в её сторону вызывает
            чувство,
            будто сама смерть наблюдает за героями.
        </p>

        <p class="large2-text" data-i18n="state-factory-role-desc-4">
            Конфликт достигает кульминации, когда Стичпанки бросают вызов Фабрике и тем силам, что в ней скрываются.
            Их отчаянная борьба против Машины становится символом сопротивления, а каждый шаг внутрь чреват жертвой и
            последними надеждами.
        </p>

        <p class="large2-text" data-i18n="state-factory-role-desc-5">
            В конце концов Фабрика была разрушена руками Стичпанков. Пламя пожрало её механизмы, а стены рухнули,
            похоронив вместе с собой и Производственную Машину. Так был поставлен финал истории ужаса, но её силуэт,
            исчезающий в огне и пепле, навсегда остался в памяти как напоминание о цене свободы.
        </p>




        <h2 class="section-title" style="color: #FFD700;" data-i18n="state-factory-facts-title-1">Интересные факты
        </h2>
        <ul style="margin-top: 20px;">

            <li class="text-block" data-i18n="state-factory-fact-1">
                <b></b> Фабрика была построена по приказу Канцлера для BRAIN и стала главным центром производства боевых
                машин.
            </li>

            <li class="text-block" data-i18n="state-factory-fact-2">
                <b></b> Её круглое красное окно на фасаде часто называют «оком Машины» — оно стало одним из самых
                узнаваемых
                символов фильма.
            </li>

            <li class="text-block" data-i18n="state-factory-fact-3">
                <b></b> Вдоль стен Фабрики находились нефтяные насосы, которые непрерывно работали, словно перекачивая
                «кровь»
                для Машины.
            </li>

            <li class="text-block" data-i18n="state-factory-fact-4">
                <b></b> Внутри находилась Производственная Машина, породившая Зверя-Кошку для возвращения Талисмана.
            </li>

            <li class="text-block" data-i18n="state-factory-fact-5">
                <b></b> После уничтожения Машины Фабрика была разрушена и сгорела, оставшись мрачным символом гибели
                человечества.
            </li>

        </ul>




        <div id="modal" class="modal">
            <span class="close">&times;</span>
            <img class="modal-content2" id="modal-image">
        </div>

        <div id="zoomLens">
        </div>




        <div class="navbar">

            <button class="nav-arrow left" aria-label="Scroll left">‹</button>

            <ul class="nav-scroller">
                <li><a href="index.html" data-i18n="back-to-main">Вернуться на главную</a></li>
                <li><a href="About-the-cartoon.html" data-i18n="about-the-cartoon">О мультфильме</a></li>
                <li><a href="Characters.html" data-i18n="characters">Персонажи</a></li>
                <li><a href="Concept.html" data-i18n="concept">Концепт</a></li>
                <li><a href="Comic.html" data-i18n="comic">Комиксы</a></li>
                <li><a href="Machine-Secret.html" data-i18n="machine-secret-title">Тайна Машины</a></li>
                <li><a href="Documentation.html" data-i18n="documentation">Документация</a></li>
                <li><a href="Enemies-and-Antagonists.html" data-i18n="enemies-and-antagonists">Враги и антагонисты</a>
                <li><a href="Creators-and-Allies.html" data-i18n="creators-and-allies">Создатели и союзники</a></li>
                <li><a href="Creators-and-Developer.html" data-i18n="menu-creators-developer">Создатели и
                        Разработчик</a></li>
            </ul>

            <button class="nav-arrow right" aria-label="Scroll right">›</button>

        </div>




        <!-- Кнопка прокрутки вгору -->
        <button id="scrollTopBtn" onclick="scrollToTop()" data-i18n-title="scrollTopTooltip"><i
                class="fas fa-arrow-up"></i></button>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const scrollBtn = document.getElementById("scrollTopBtn");

                window.addEventListener("scroll", () => {
                    const scrolled = window.scrollY || document.documentElement.scrollTop;

                    // Поріг для показу кнопки — 300px
                    if (scrolled > 300) {
                        scrollBtn.classList.add("show");
                    } else {
                        scrollBtn.classList.remove("show");
                    }
                });

                window.scrollToTop = function () {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                };
            });
        </script>




        <script>
            const modal = document.getElementById("modal");
            const modalImage = document.getElementById("modal-image");
            const zoomLens = document.getElementById("zoomLens");
            const closeBtn = document.querySelector(".close");

            let moveZoomHandler = null;

            function activateZoom(img) {
                const zoom = 2.5;

                const updateZoom = (e) => {
                    const rect = img.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;

                    if (x < 0 || y < 0 || x > rect.width || y > rect.height) {
                        zoomLens.style.display = 'none';
                        zoomLens.classList.remove('visible');
                        return;
                    }

                    zoomLens.style.backgroundImage = `url('${img.src}')`;
                    zoomLens.style.backgroundSize = `${img.width * zoom}px ${img.height * zoom}px`;

                    const bgX = -(x * zoom - zoomLens.offsetWidth / 2);
                    const bgY = -(y * zoom - zoomLens.offsetHeight / 2);

                    zoomLens.style.left = `${e.pageX - zoomLens.offsetWidth / 2}px`;
                    zoomLens.style.top = `${e.pageY - zoomLens.offsetHeight / 2}px`;
                    zoomLens.style.backgroundPosition = `${bgX}px ${bgY}px`;

                    // Показати лише після точного позиціонування
                    if (zoomLens.style.display !== 'block') {
                        zoomLens.style.display = 'block';
                        requestAnimationFrame(() => {
                            zoomLens.classList.add('visible');
                        });
                    }
                };

                if (moveZoomHandler) {
                    img.removeEventListener("mousemove", moveZoomHandler);
                }

                moveZoomHandler = updateZoom;

                img.addEventListener("mousemove", updateZoom);
                img.addEventListener("mouseleave", () => {
                    zoomLens.style.display = "none";
                    zoomLens.classList.remove('visible');
                });
            }

            function closeModal() {
                modal.style.display = "none";
                zoomLens.style.display = "none";
                zoomLens.classList.remove("visible");
                zoomLens.style.left = '-9999px';
                zoomLens.style.top = '-9999px';
                modalImage.src = "";

                if (moveZoomHandler) {
                    modalImage.removeEventListener("mousemove", moveZoomHandler);
                    moveZoomHandler = null;
                }
            }

            document.querySelectorAll(".thumbnail, .thumbnail2").forEach(img => {
                img.addEventListener("click", function (event) {
                    const clickX = event.clientX;
                    const clickY = event.clientY;

                    modalImage.onload = () => {
                        activateZoom(modalImage);

                        // Скидаємо старі координати, щоб уникнути стрибків
                        zoomLens.style.left = '-9999px';
                        zoomLens.style.top = '-9999px';
                        zoomLens.style.display = 'none';
                        zoomLens.classList.remove('visible');

                        const simulatedEvent = {
                            clientX: clickX,
                            clientY: clickY,
                            pageX: window.scrollX + clickX,
                            pageY: window.scrollY + clickY
                        };

                        if (typeof moveZoomHandler === 'function') {
                            moveZoomHandler(simulatedEvent);

                            // Спочатку координати, потім модалка, потім лупа
                            modal.style.display = "flex";

                            requestAnimationFrame(() => {
                                zoomLens.style.display = 'block';
                                requestAnimationFrame(() => {
                                    zoomLens.classList.add('visible');
                                });
                            });
                        }
                    };

                    modalImage.src = this.src;
                });
            });

            closeBtn.onclick = closeModal;

            window.onclick = (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            };
        </script>


        <audio id="letterOpenSound" src="./audio/zvuk-perelistyivaniya-stranitsyi.mp3"></audio>
        <audio id="letterCloseSound" src="./audio/close-letter.mp3"></audio>

        <script>
            function openLetter(wrapper) {

                if (wrapper.classList.contains('open')) return;

                wrapper.classList.add('open');

                const openSound = document.getElementById('letterOpenSound');
                if (openSound) {
                    openSound.currentTime = 0;
                    openSound.play();
                }
            }

            function closeLetter(event) {
                event.stopPropagation();
                const wrapper = event.target.closest('.letter-wrapper');

                if (!wrapper.classList.contains('open')) return;

                wrapper.classList.remove('open');

                const closeSound = document.getElementById('letterCloseSound');
                if (closeSound) {
                    closeSound.currentTime = 0;
                    closeSound.play();
                }
            }
        </script>


        <script>
            document.querySelectorAll('.slider-wrapper').forEach(wrapper => {
                const slider = wrapper.querySelector('.image-listing');
                const btnLeft = wrapper.querySelector('.arrow.left');
                const btnRight = wrapper.querySelector('.arrow.right');

                if (slider && btnLeft && btnRight) {
                    const scrollStep = 300; // Крок прокрутки

                    btnLeft.addEventListener('click', () => {
                        if (slider.scrollLeft <= 0) {
                            // Якщо вже на початку — прокручуємо в кінець
                            slider.scrollTo({ left: slider.scrollWidth, behavior: 'smooth' });
                        } else {
                            slider.scrollBy({ left: -scrollStep, behavior: 'smooth' });
                        }
                    });

                    btnRight.addEventListener('click', () => {
                        const maxScroll = slider.scrollWidth - slider.clientWidth;
                        if (slider.scrollLeft >= maxScroll - 5) {
                            // Якщо вже в кінці — прокручуємо в початок
                            slider.scrollTo({ left: 0, behavior: 'smooth' });
                        } else {
                            slider.scrollBy({ left: scrollStep, behavior: 'smooth' });
                        }
                    });
                }
            });
        </script>


        <script>
            // ===== Bookmark dropdown (прикріплена закладка + список вниз) =====
            (() => {
                const bm = document.getElementById('bm');
                const tab = document.getElementById('bmTab');
                const list = document.getElementById('bmList');
                if (!bm || !tab || !list) return;

                const open = () => {
                    bm.classList.add('open');
                    tab.setAttribute('aria-expanded', 'true');
                    list.hidden = false;
                };
                const close = () => {
                    bm.classList.remove('open');
                    tab.setAttribute('aria-expanded', 'false');
                    list.hidden = true;
                };

                tab.addEventListener('click', () => bm.classList.contains('open') ? close() : open());
                document.addEventListener('click', e => { if (!bm.contains(e.target)) close(); });
                window.addEventListener('keydown', e => { if (e.key === 'Escape') close(); });

                // підсвічування активного пункту (з твоїм hash-router’ом)
                const setActive = () => {
                    const id = (location.hash || '#scientist').slice(1);
                    document.querySelectorAll('.bookmark-link').forEach(a => {
                        const active = a.getAttribute('href') === `#${id}`;
                        a.classList.toggle('is-active', active);
                        a.setAttribute('aria-current', active ? 'page' : 'false');
                    });
                };
                window.addEventListener('hashchange', setActive);
                setActive();
            })();

        </script>


        <script src="lang.js" defer></script>
        <script src="Nine.js"></script>


        <script>
            const scroller = document.querySelector('.nav-scroller');
            const leftBtn = document.querySelector('.nav-arrow.left');
            const rightBtn = document.querySelector('.nav-arrow.right');

            function updateOverflowState() {
                const overflows = scroller.scrollWidth > scroller.clientWidth;
                scroller.classList.toggle('is-overflowing', overflows);
                if (overflows && scroller.scrollLeft !== 0) scroller.scrollLeft = 0;  // показуємо «О мультфильме»
                updateArrows();
            }

            function updateArrows() {
                const max = scroller.scrollWidth - scroller.clientWidth;
                leftBtn.classList.toggle('visible', scroller.scrollLeft > 0);
                rightBtn.classList.toggle('visible', scroller.scrollLeft < max - 1);
            }

            function scrollByStep(dir) {
                const step = Math.min(240, Math.round(scroller.clientWidth * 0.8));
                scroller.scrollBy({ left: dir * step, behavior: 'smooth' });
            }

            leftBtn.addEventListener('click', () => scrollByStep(-1));
            rightBtn.addEventListener('click', () => scrollByStep(1));
            scroller.addEventListener('scroll', updateArrows);
            window.addEventListener('resize', updateOverflowState);
            document.addEventListener('DOMContentLoaded', updateOverflowState);
        </script>


</body>

</html>